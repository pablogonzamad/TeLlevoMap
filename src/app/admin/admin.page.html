<ion-header>
  <ion-toolbar>
    <ion-title class="ion-text-center">
      TeLlevoApp
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title class="ion-text-center">TeLlevoApp</ion-title>
      
    </ion-toolbar>
  </ion-header>
  <br>
  <div class="ion-text-center">
    <ion-button (click)="irHome()">
      Atras
    </ion-button>
    <ion-button id="open-modal" class="ion-padding" shape="round" color="tertiary">
      Nuevo Viaje
    </ion-button>
    <!-- Modal Nuevo Viaje -->
    <ion-modal trigger="open-modal">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-buttons slot="start">
              <ion-button (click)="cancel()">
                Cancelar
              </ion-button>
            </ion-buttons>
            <ion-title class="ion-text-center">Nuevo Viaje</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="newViaje(viaje)">
                Crear Viaje
              </ion-button>
            </ion-buttons>
          </ion-toolbar>

        </ion-header>
        
        <ion-content class="ion-padding">
          <ion-item>
            <ion-input label="id:" [disabled]="true" value="this.id_viaje" [(ngModel)] = "viaje.conductor"></ion-input>
          </ion-item>
          <ion-item>
            <ion-input label="Nombre del Viaje:" [(ngModel)] = "viaje.nombre"></ion-input>
          </ion-item>
          <ion-item>
            <ion-input label="Conductor:" [disabled]="true" value="this.user" [(ngModel)] = "viaje.conductor"></ion-input>
          </ion-item>
          <ion-item>
            <ion-input label="Cantidad de Asientos:" type="number" [(ngModel)] = "viaje.cantAsientosDisp"></ion-input>
          </ion-item>
        
          <ion-list>
            <ion-item>  
              <ion-select label="Lugar Inicio:" [(ngModel)] = "viaje.lugarInicio">
                  <ion-select-option>DUOC Viña del Mar</ion-select-option>
                  <ion-select-option>DUOC Valparaiso</ion-select-option>
                  <ion-select-option>Belloto Centro</ion-select-option>
                  <ion-select-option>Quilpue Centro</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-list>

          <ion-list>
            <ion-item>  
              <ion-select label="Lugar Destino:" [(ngModel)] = "viaje.lugarDestino">
                  <ion-select-option>DUOC Viña del Mar</ion-select-option>
                  <ion-select-option>DUOC Valparaiso</ion-select-option>
                  <ion-select-option>Belloto Centro</ion-select-option>
                  <ion-select-option>Quilpue Centro</ion-select-option>
              </ion-select>
            </ion-item>
          </ion-list>
          <ion-item>
            <ion-input label="Estado: " value="Habilitado" [disabled]="true" [(ngModel)] = "viaje.estado"></ion-input>
          </ion-item>
      
        </ion-content>
      </ng-template>
    </ion-modal>

  </div>

  <h2 class="ion-text-center">Viajes Activos</h2><br>
    <!-- Viste de Viajes Activos -->
  <ion-grid class="ion-text-center">
    <ion-row class="titulos">
      <ion-col>Nombre</ion-col>
      <ion-col>Asientos</ion-col>
      <ion-col>Inicio</ion-col>
      <ion-col>Destino</ion-col>
      <ion-col>Alumnos</ion-col>
    </ion-row>
    
    <ion-row *ngFor="let viaje of viajes" class="ViajeView">
      <ion-col>{{ viaje.nombre }}</ion-col>
      <ion-col>{{ viaje.cantAsientosDisp }}</ion-col>
      <ion-col>{{ viaje.lugarInicio }}</ion-col>
      <ion-col>{{ viaje.lugarDestino }}</ion-col>
      <ion-col><span *ngFor="let alumnos of viaje.alumnos">{{ alumnos.name }}<br></span></ion-col>
    </ion-row>
  </ion-grid>

  <ion-accordion-group>
    <ion-accordion *ngFor="let viaje of viajes">
      <ion-item slot="header" color="light">
        <ion-label>
          -{{ viaje.nombre }}-<br>
          Inicio: {{ viaje.lugarInicio }} <br>
          Destino: {{ viaje.lugarDestino }} <br>
        </ion-label>
      </ion-item>
      <div class="ion-padding ion-text-center" slot="content">
        <capacitor-google-map #map></capacitor-google-map>
        <br>
        <ion-button (click)="createMap()">
          Mapa
        </ion-button>
        <ion-button (click)="mapDestroy()" color="warning">
          Destroy
        </ion-button>
      </div>
    </ion-accordion>
  </ion-accordion-group>
  
  
</ion-content>